<!doctype html>
<html lang={{lang}}>

<head>
  <meta charset="utf-8">
  <title>{{appName}}</title>
  <base href={{baseRouteUrl}}>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://wchat.freshchat.com/js/widget.js"></script>
</head>

<body style="margin: 0">
  <script>
    {{#if baseAssetsUrl }} const baseAssetsUrl = "{{baseAssetsUrl}}";
    window.__webpack_public_path__ = "{{baseAssetsUrl}}"
    __webpack_public_path__ ="{{baseAssetsUrl}}";
    {{/if}}
    {{#if baseRouteUrl }} const baseRouteUrl = "{{baseRouteUrl}}"; {{/if}}
    {{#if baseApiUrl }} const baseApiUrl = "{{baseApiUrl}}"; {{/if}}
    {{#if baseRootUrl }} const baseRootUrl = "{{baseRootUrl}}"; {{/if}}
    {{#if appName }} const appName = "{{appName}}"; {{/if}}
    {{#if backofficeAppName }} const backofficeAppName = "{{backofficeAppName}}"; {{/if}}
    {{#if version }} const version  = "{{version}}"; {{/if}}
    {{#if logConfig }} const logConfig = {{{logConfig}}}; {{/if}}
    let userID
    {{#if userID }} userID = "{{userID}}"; {{/if}}
    {{#if lang }} lang = "{{lang}}"; {{/if}};
    let freshchatToken
    let freshchatHost
    {{#if freshchatToken }} freshchatToken = "{{freshchatToken}}"; {{/if}}
    {{#if freshchatHost }} freshchatHost = "{{freshchatHost}}"; {{/if}}
    let userEmail
    {{#if userEmail }} userEmail = "{{userEmail}}"; {{/if}}
    
    if (freshchatToken && freshchatHost) {
      function initFreshChat() {
        window.fcWidget.init({
          token: freshchatToken,
          host: freshchatHost,
          externalId: userID,
          email: userEmail,
          config: {
            headerProperty: {
              hideChatButton: true
            }
          }
        });
      }

      function initialize(i, t) { var e; i.getElementById(t) ? initFreshChat() : ((e = i.createElement("script")).id = t, e.async = !0, e.src = "https://wchat.eu.freshchat.com/js/widget.js", e.onload = initFreshChat, i.head.appendChild(e)) } 
      function initiateCall() { initialize(document, "freshchat-js-sdk") } 
      window.addEventListener ? window.addEventListener("load", initiateCall, !1) : window.attachEvent("load", initiateCall, !1);
    }
  </script>

  <app-root></app-root>
</body>

</html>
