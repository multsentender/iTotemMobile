<!doctype html>
<html lang={{lang}}>

<head>
  <meta charset="utf-8">
  <title>{{appName}}</title>
  <base href={{baseRouteUrl}}>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://wchat.freshchat.com/js/widget.js"></script>
</head>

<body style="margin: 0">
  <script>
    {{#if baseAssetsUrl }} const baseAssetsUrl = "{{baseAssetsUrl}}";
    window.__webpack_public_path__ = "{{baseAssetsUrl}}"
    __webpack_public_path__ ="{{baseAssetsUrl}}";
    {{/if}}
    {{#if baseRouteUrl }} const baseRouteUrl = "{{baseRouteUrl}}"; {{/if}}
    {{#if baseApiUrl }} const baseApiUrl = "{{baseApiUrl}}"; {{/if}}
    {{#if baseRootUrl }} const baseRootUrl = "{{baseRootUrl}}"; {{/if}}
    {{#if appName }} const appName = "{{appName}}"; {{/if}}
    {{#if backofficeAppName }} const backofficeAppName = "{{backofficeAppName}}"; {{/if}}
    {{#if version }} const version  = "{{version}}"; {{/if}}
    {{#if logConfig }} const logConfig = {{{logConfig}}}; {{/if}}
    {{#if userID }} const userID = "{{userID}}"; {{/if}}
    {{#if lang }} const lang = "{{lang}}"; {{/if}};
    {{#if freshchatToken }} const freshchatToken = "{{freshchatToken}}"; {{/if}}
    {{#if freshchatHost }} const freshchatHost = "{{freshchatHost}}"; {{/if}}
    
    {{#if freshchatToken && freshchatHost }}

    function initFreshChat() {
      window.fcWidget.init({
        token: "{freshChatToken}",
        host: "{freshChatHost}",
        externalId: {userId},
        email: {userEmail},
        headerProperty: {
          //Hide the chat button on load
          hideChatButton: false,
        }
      });
    }

    function initialize(i, t) { var e; i.getElementById(t) ? initFreshChat() : ((e = i.createElement("script")).id = t, e.async = !0, e.src = "https://wchat.eu.freshchat.com/js/widget.js", e.onload = initFreshChat, i.head.appendChild(e)) } 
    function initiateCall() { initialize(document, "freshchat-js-sdk") } 
    window.addEventListener ? window.addEventListener("load", initiateCall, !1) : window.attachEvent("load", initiateCall, !1);

    {{/if}}

    {{#if userEmail }} const userEmail = "{{userEmail}}"; {{/if}}
  </script>

  <app-root></app-root>
</body>

</html>
